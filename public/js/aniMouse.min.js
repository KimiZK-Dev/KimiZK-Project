const colors = [
	"rgb(255,126,226)",
	"rgb(255,163,143)",
	"rgb(255,209,142)",
	"rgb(233,255,151)",
];
const animations = ["fall-1", "fall-2", "fall-3"];
const rand = (o, t) => Math.floor(Math.random() * (t - o + 1)) + o;
const selectRandom = (o) => o[rand(0, o.length - 1)];
const calcDistance = (o, t) => {
	return Math.sqrt(Math.pow(t.x - o.x, 2) + Math.pow(t.y - o.y, 2));
};
const originPosition = { x: 0, y: 0 };
const last = { starPosition: originPosition, mousePosition: originPosition };

window.onmousemove = function (event) {
	const x = event.pageX;
	const y = event.pageY;
	const star = document.createElement("span");
	star.className = "star fa-star fa-solid";
	star.style.left = `${x}px`;
	star.style.top = `${y}px`;
	star.style.color = selectRandom(colors);
	star.style.animationName = selectRandom(animations);

	last.mousePosition = { x, y };

	if (calcDistance(last.starPosition, last.mousePosition) >= 50) {
		document.body.appendChild(star);
		last.starPosition = last.mousePosition;
		setTimeout(() => document.body.removeChild(star), 1000);
	}
};
